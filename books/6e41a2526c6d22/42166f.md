---
title: "1章"
free: false
---

## 変数 
- 変数は`let`で宣言する
- `let x: type`で型も宣言する
- 同じ変数名に複数回代入可能、型も変えられちゃう
```Rust
fn main() {
    let x = 13;

    // x の型を指定
    let x: f64 = 3.14159;
}
```

- 変数には可変と不変が存在する

**可変**
- コンパイラからの書き込みと読み込みを許可

**不変**
- コンパイラからの読み込みだけを許可

可変値は`mut` で宣言
```Rust
fn main() {
    let mut x = 42;
    println!("{}", x);
    x = 13;
    println!("{}", x);
}
```

## 基本型
現段階で特筆する必要のあるものだけ触れる
`.to_string`とかを用いてキャストもできる

- **ポインタサイズ整数型**
  - `usize`, `isize` はメモリ内のインデックスとサイズを表す

- **タプル**
  - スタック上の固定された値の組を渡すために使用される
  - 各要素にはドットとインデックス`.N`を用いてアクセスする

```Rust
fn main() {
    let person = (Bob, 24);

    let name = person.0;
    let age = person.1; 
}
```

- **数値型**
  - `13u8`みたいに値の後ろに型を書くと明示的に宣言可能
  - `as`を使えば簡単に型が変えられちゃう

```Rust
fn main() {
    let a = 13u8;
    let b = 7u32;
    let c = a as u32 + b;
    // c=42
    println!("{}", c);

    // 型チェックもこういう風にasでできる
    let t = true;
    println!("{}", t as u8);
}
```

## 定数
大文字のスネークケースで`const`で宣言
```Rust
const PI: f32 = 3.14159;

fn main() {
    println!(
        "円周率",
        PI
    );
}
```

## 配列
- `[T;N]`で宣言する Tは型、Nはコンパイル時に決まる固定長
- 要素には`[N]`でアクセス

```Rust
fn main() {
    let nums: [i32; 3] = [1, 2, 3];
    println!("{:?}", nums);
    println!("{}", nums[1]);
}
```

## 関数
- 関数名はスネークケース

```Rust
fn add(x: i32, y: i32) -> i32 {
    return x + y;
}

fn main() {
    // 57
    println!("{}", add(42, 13));
}
```

- タプルで複数の値も返せる
```Rust
fn swap(x: i32, y: i32) -> (i32, i32) {
    return (y, x);
}

fn main() {
    // 戻り値をタプルで返す
    let result = swap(123, 321);
    println!("{} {}", result.0, result.1);

    // タプルを2つの変数に分解
    let (a, b) = swap(result.0, result.1);
    // 321 123
    println!("{} {}", a, b);
}
```

- 空の戻り値は空のタプル`()`

```Rust
fn make_nothing() -> () {
    return ();
}
```